{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Card = require('./components/Card');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Microlink = function (_Component) {\n  _inherits(Microlink, _Component);\n\n  function Microlink() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Microlink);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Microlink.__proto__ || Object.getPrototypeOf(Microlink)).call.apply(_ref, [this].concat(args))), _this), _this.fetchData = function () {\n      var url = (0, _utils.createApiUrl)(_this.props);\n      var promise = fetch(url, { headers: { 'x-api-key': _this.props.apiKey } });\n      return promise.then(function (res) {\n        return res.json();\n      });\n    }, _this.setData = function (_ref2) {\n      var data = _ref2.data;\n\n      var imagesProps = [].concat(_this.props.image);\n      var image = (0, _utils.someProp)(data, imagesProps);\n      var imageUrl = (0, _utils.getUrlPath)(image);\n      var title = data.title,\n          description = data.description,\n          url = data.url,\n          video = data.video;\n\n      var _ref3 = image || {},\n          color = _ref3.color,\n          backgroundColor = _ref3.background_color;\n\n      _this.setState({\n        color: color,\n        backgroundColor: backgroundColor,\n        title: title,\n        description: description,\n        url: url,\n        loading: false,\n        video: video,\n        image: imageUrl\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Microlink, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (this.props.data) return this.setData({ data: this.props.data });\n      var promise = this.fetchData();\n      return this.setState({ loading: true }, function () {\n        return promise.then(_this2.setData);\n      });\n    }\n  }, {\n    key: 'renderContent',\n    value: function renderContent() {\n      var _state = this.state,\n          title = _state.title,\n          description = _state.description,\n          url = _state.url,\n          image = _state.image,\n          video = _state.video;\n      var _props = this.props,\n          size = _props.size,\n          autoPlay = _props.autoPlay,\n          muted = _props.muted,\n          loop = _props.loop;\n\n\n      return _jsx(_react.Fragment, {}, void 0, _jsx(_Card.CardMedia, {\n        image: image,\n        video: video,\n        url: url,\n        cardSize: size,\n        autoPlay: autoPlay,\n        muted: muted,\n        loop: loop\n      }), _jsx(_Card.CardContent, {\n        className: 'microlink_card__content',\n        title: title,\n        description: description,\n        url: url,\n        cardSize: size\n      }));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state2 = this.state,\n          title = _state2.title,\n          color = _state2.color,\n          backgroundColor = _state2.backgroundColor,\n          url = _state2.url,\n          loading = _state2.loading;\n      var _props2 = this.props,\n          className = _props2.className,\n          reverse = _props2.reverse,\n          size = _props2.size;\n\n\n      return _react2.default.createElement(\n        _Card.CardWrap,\n        _extends({\n          className: className ? 'microlink_card ' + className : 'microlink_card',\n          href: url,\n          title: title,\n          cardSize: size,\n          color: color,\n          backgroundColor: backgroundColor,\n          loading: loading,\n          reverse: reverse\n        }, this.props),\n        !loading ? this.renderContent() : _jsx(_Card.CardEmptyState, {\n          cardSize: size\n        })\n      );\n    }\n  }]);\n\n  return Microlink;\n}(_react.Component);\n\nMicrolink.defaultProps = {\n  apiKey: undefined,\n  autoPlay: true,\n  contrast: false,\n  image: ['screenshot', 'image', 'logo'],\n  loop: true,\n  muted: true,\n  prerender: 'auto',\n  reverse: false,\n  screenshot: false,\n  size: 'normal'\n};\n\nexports.default = Microlink;"],"names":["Object","defineProperty","exports","value","REACT_ELEMENT_TYPE","obj","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_jsx","Symbol","for","type","props","children","defaultProps","childrenLength","propName","childArray","Array","$$typeof","undefined","ref","_owner","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","__esModule","default","_Card","_utils","_possibleConstructorReturn","self","ReferenceError","Microlink","_Component","_ref","_temp","_this","instance","TypeError","_classCallCheck","this","_len","args","_key","__proto__","getPrototypeOf","apply","concat","fetchData","url","createApiUrl","fetch","headers","x-api-key","apiKey","then","res","json","setData","_ref2","data","imagesProps","image","someProp","imageUrl","getUrlPath","_ref3","setState","color","backgroundColor","background_color","title","description","loading","video","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","_this2","promise","_state","state","_props","size","Fragment","CardMedia","cardSize","autoPlay","muted","loop","CardContent","className","_state2","_props2","createElement","CardWrap","href","reverse","CardEmptyState","renderContent","contrast","prerender","screenshot"],"mappings":"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"}