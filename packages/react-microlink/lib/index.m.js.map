{"version":3,"file":"index.m.js","sources":["index.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0});var e,t,r=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=(e=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,function(t,r,o,n){var a=arguments,i=t&&t.defaultProps,l=arguments.length-3;if(r||0===l||(r={}),r&&i)for(var c in i)void 0===r[c]&&(r[c]=i[c]);else r||(r=i||{});if(1===l)r.children=n;else if(l>1){for(var u=Array(l),s=0;s<l;s++)u[s]=a[s+3];r.children=u}return{$$typeof:e,type:t,key:void 0===o?null:\"\"+o,ref:null,props:r,_owner:null}}),n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=require(\"react\"),i=(t=a)&&t.__esModule?t:{default:t},l=require(\"./components/Card\"),c=require(\"./utils\");function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var s=function(e){function t(){var e,r,o,n=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=n[l];return r=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.fetchData=function(){var e=(0,c.createApiUrl)(o.props);return fetch(e,{headers:{\"x-api-key\":o.props.apiKey}}).then(function(e){return e.json()})},o.setData=function(e){var t=e.data,r=[].concat(o.props.image),n=(0,c.someProp)(t,r),a=(0,c.getUrlPath)(n),i=n||{};o.setState({color:i.color,backgroundColor:i.background_color,title:t.title,description:t.description,url:t.url,loading:!1,video:t.video,image:a})},u(o,r)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:\"componentWillMount\",value:function(){var e=this;if(this.props.data)return this.setData({data:this.props.data});var t=this.fetchData();return this.setState({loading:!0},function(){return t.then(e.setData)})}},{key:\"renderContent\",value:function(){var e=this.state,t=e.title,r=e.description,n=e.url,i=this.props,c=i.size;return o(a.Fragment,{},void 0,o(l.CardMedia,{image:e.image,video:e.video,url:n,cardSize:c,autoPlay:i.autoPlay,muted:i.muted,loop:i.loop}),o(l.CardContent,{className:\"microlink_card__content\",title:t,description:r,url:n,cardSize:c}))}},{key:\"render\",value:function(){var e=this.state,t=e.loading,n=this.props,a=n.className,c=n.size;return i.default.createElement(l.CardWrap,r({className:a?\"microlink_card \"+a:\"microlink_card\",href:e.url,title:e.title,cardSize:c,color:e.color,backgroundColor:e.backgroundColor,loading:t,reverse:n.reverse},this.props),t?o(l.CardEmptyState,{cardSize:c}):this.renderContent())}}]),t}();s.defaultProps={apiKey:void 0,autoPlay:!0,contrast:!1,image:[\"screenshot\",\"image\",\"logo\"],loop:!0,muted:!0,prerender:\"auto\",reverse:!1,screenshot:!1,size:\"normal\"},exports.default=s;\n//# sourceMappingURL=index.js.map\n"],"names":["e","t","Object","defineProperty","exports","value","r","assign","arguments","length","o","n","prototype","hasOwnProperty","call","Symbol","for","a","i","defaultProps","l","c","children","u","Array","s","$$typeof","type","key","ref","props","_owner","enumerable","configurable","writable","require","__esModule","default","ReferenceError","TypeError","this","__proto__","getPrototypeOf","apply","concat","fetchData","createApiUrl","fetch","headers","x-api-key","apiKey","then","json","setData","data","image","someProp","getUrlPath","setState","color","backgroundColor","background_color","title","description","url","loading","video","create","constructor","setPrototypeOf","Component","state","size","Fragment","CardMedia","cardSize","autoPlay","muted","loop","CardContent","className","createElement","CardWrap","href","reverse","CardEmptyState","renderContent","contrast","prerender","screenshot"],"mappings":"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"}