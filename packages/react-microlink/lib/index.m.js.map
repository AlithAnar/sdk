{"version":3,"file":"index.m.js","sources":["index.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0});var e,t=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=(e=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,function(t,r,o,n){var a=arguments,i=t&&t.defaultProps,l=arguments.length-3;if(r||0===l||(r={}),r&&i)for(var c in i)void 0===r[c]&&(r[c]=i[c]);else r||(r=i||{});if(1===l)r.children=n;else if(l>1){for(var s=Array(l),u=0;u<l;u++)s[u]=a[u+3];r.children=s}return{$$typeof:e,type:t,key:void 0===o?null:\"\"+o,ref:null,props:r,_owner:null}}),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=require(\"react\"),a=require(\"./components/Card\"),i=require(\"./utils\");function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var c=function(e){function c(){var e,t,r,o=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,c);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=o[s];return t=r=l(this,(e=c.__proto__||Object.getPrototypeOf(c)).call.apply(e,[this].concat(a))),r.fetchData=function(){var e=(0,i.createApiUrl)(r.props);return fetch(e,{headers:{\"x-api-key\":r.props.apiKey}}).then(function(e){return e.json()})},r.setData=function(e){var t=e.data,o=[].concat(r.props.image),n=(0,i.someProp)(t,o),a=(0,i.getUrlPath)(n),l=n||{};r.setState({color:l.color,backgroundColor:l.background_color,title:t.title,description:t.description,url:t.url,loading:!1,video:t.video,image:a})},l(r,t)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,n.Component),o(c,[{key:\"componentWillMount\",value:function(){var e=this;if(this.props.data)return this.setData({data:this.props.data});var t=this.fetchData();return this.setState({loading:!0},function(){return t.then(e.setData)})}},{key:\"renderContent\",value:function(){var e=this.state,t=e.title,o=e.description,i=e.url,l=this.props,c=l.size;return r(n.Fragment,{},void 0,r(a.CardMedia,{image:e.image,video:e.video,url:i,cardSize:c,autoPlay:l.autoPlay,muted:l.muted,loop:l.loop}),r(a.CardContent,{className:\"microlink_card__content\",title:t,description:o,url:i,cardSize:c}))}},{key:\"render\",value:function(){var e=this.state,o=e.loading,n=this.props,i=n.className,l=n.size;return React.createElement(a.CardWrap,t({className:i?\"microlink_card \"+i:\"microlink_card\",href:e.url,title:e.title,cardSize:l,color:e.color,backgroundColor:e.backgroundColor,loading:o,reverse:n.reverse},this.props),o?r(a.CardEmptyState,{cardSize:l}):this.renderContent())}}]),c}();c.defaultProps={apiKey:void 0,autoPlay:!0,contrast:!1,image:[\"screenshot\",\"image\",\"logo\"],loop:!0,muted:!0,prerender:\"auto\",reverse:!1,screenshot:!1,size:\"normal\"},exports.default=c;\n//# sourceMappingURL=index.js.map\n"],"names":["e","Object","defineProperty","exports","value","t","assign","arguments","r","length","o","n","prototype","hasOwnProperty","call","Symbol","for","a","i","defaultProps","l","c","children","s","Array","u","$$typeof","type","key","ref","props","_owner","enumerable","configurable","writable","require","ReferenceError","TypeError","this","__proto__","getPrototypeOf","apply","concat","fetchData","createApiUrl","fetch","headers","x-api-key","apiKey","then","json","setData","data","image","someProp","getUrlPath","setState","color","backgroundColor","background_color","title","description","url","loading","video","create","constructor","setPrototypeOf","Component","state","size","Fragment","CardMedia","cardSize","autoPlay","muted","loop","CardContent","className","React","createElement","CardWrap","href","reverse","CardEmptyState","renderContent","contrast","prerender","screenshot","default"],"mappings":"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"}